[gd_scene load_steps=17 format=4 uid="uid://dvefh4ao2ciyu"]

[ext_resource type="Script" uid="uid://cpv0k2tvyh0d7" path="res://Character/beam.gd" id="1_i0pe4"]
[ext_resource type="ArrayMesh" uid="uid://dxs73vc1sll8t" path="res://PREM-7/new_array_mesh.tres" id="2_8l162"]
[ext_resource type="Shader" uid="uid://c7t57bgvq7aao" path="res://Shaders/beam_dynamic_shader.tres" id="2_x6usk"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_8l162"]
transparency = 1
albedo_color = Color(1, 0, 0, 0.356863)
emission_enabled = true
emission = Color(1, 0, 0, 1)
emission_energy_multiplier = 16.0
rim_tint = 1.0
clearcoat_roughness = 1.0
anisotropy = 1.0
refraction_scale = 0.08
refraction_texture_channel = 3
detail_blend_mode = 1
grow_amount = -16.0
proximity_fade_distance = 6.0
distance_fade_max_distance = 5.0

[sub_resource type="CylinderMesh" id="CylinderMesh_x6usk"]
material = SubResource("StandardMaterial3D_8l162")
flip_faces = true
top_radius = 0.025
bottom_radius = 0.025
height = 0.01
rings = 16

[sub_resource type="ShaderMaterial" id="ShaderMaterial_mscii"]
render_priority = 0
shader = ExtResource("2_x6usk")

[sub_resource type="Gradient" id="Gradient_x6usk"]
colors = PackedColorArray(1, 1, 1, 0, 1, 1, 1, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_mscii"]
gradient = SubResource("Gradient_x6usk")

[sub_resource type="Curve" id="Curve_x6usk"]
_limits = [0.0, 5.0, 0.0, 1.0]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 5), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_mscii"]
_limits = [0.0, 0.11, 0.0, 1.0]
_data = [Vector2(0, 0.11), 0.0, 0.0, 0, 0, Vector2(1, 0.11), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_vxkva"]
_limits = [0.0, 0.11, 0.0, 1.0]
_data = [Vector2(0, 0.11), 0.0, 0.0, 0, 0, Vector2(1, 0.11), 0.0, 0.0, 0, 0]
point_count = 2
metadata/_snap_count = 92

[sub_resource type="CurveXYZTexture" id="CurveXYZTexture_vuyi1"]
curve_x = SubResource("Curve_x6usk")
curve_y = SubResource("Curve_mscii")
curve_z = SubResource("Curve_vxkva")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_i0pe4"]
gravity = Vector3(0, 0, 0)
scale_curve = SubResource("CurveXYZTexture_vuyi1")
color = Color(1.26103e-05, 0.840319, 1.15514e-06, 1)
color_ramp = SubResource("GradientTexture1D_mscii")
turbulence_noise_strength = 10.89

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_x6usk"]
transparency = 1
albedo_color = Color(1, 0, 1, 0.54902)

[sub_resource type="ArrayMesh" id="ArrayMesh_kx5wm"]
_surfaces = [{
"aabb": AABB(-0.868458, -1.5733, -1.5733, 0.857045, 3.1466, 3.1466),
"format": 34896613377,
"index_count": 192,
"index_data": PackedByteArray("AAABAAIAAgABAAMAAAAEAAEAAgADAAUABgAEAAAABQADAAcABgAIAAQABQAHAAkACgAIAAYACQAHAAsACgAMAAgACQALAA0ADgAMAAoADQALAA8ADgAQAAwADQAPABEAEgAQAA4AEQAPABMAEgAUABAAEQATABUAFgAUABIAFQATABcAFgAYABQAFQAXABkAGgAYABYAGQAXABsAGgAcABgAGQAbAB0AHgAcABoAHQAbAB8AHgAgABwAHQAfACEAIgAgAB4AIQAfACMAIgAkACAAIQAjACUAJgAkACIAJQAjACcAJgAoACQAJQAnACkAKgAoACYAKQAnACsAKgAsACgAKQArAC0ALgAsACoALQArAC8ALgAwACwALQAvADEAMgAwAC4AMQAvADMAMgA0ADAAMQAzADUANgA0ADIANQAzADcANgA4ADQANQA3ADkAOgA4ADYAOQA3ADsAOgA8ADgAOQA7AD0APgA8ADoAPQA7AD8APgA/ADwAPQA/AD4A"),
"name": "Cylinder.001",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 64,
"vertex_data": PackedByteArray("////fxwuAAAAAP9/AAAAAP//BXCvLwAAAAAGZ3UCAAAAAPiYdQIAAP//qWBYNAAA///5j68vAAAAAANPvgkAAAAA+7C+CQAA//+BUuk7AAD//1WfWDQAAAAA4jiSFQAAAAAcx5IVAAD//xhGGEYAAP//fa3pOwAAAAB9JX0lAAAAAIHafSUAAP//6TuBUgAA///muRhGAAAAAJIV4jgAAAAAbOriOAAA//9YNKlgAAD//xXEgVIAAAAAvgkDTwAAAABA9gNPAAD//68vBXAAAP//psupYAAAAAB1AgZnAAAAAIn9BmcAAP//HC7/fwAA//9P0AVwAAAAAAAA/38AAAAA////fwAA//+vL/mPAAD//+LR/38AAAAAdQL4mAAAAACJ/fiYAAD//1g0VZ8AAP//T9D5jwAAAAC+CfuwAAAAAED2+7AAAP//6Tt9rQAA//+my1WfAAAAAJIVHMcAAAAAbOocxwAA//8YRua5AAD//xXEfa0AAAAAfSWB2gAAAACB2oHaAAD//4FSFcQAAP//5rnmuQAAAADiOGzqAAAAABzHbOoAAP//qWCmywAA//99rRXEAAAAAANPQPYAAAAA+7BA9gAA//8FcE/QAAD//1WfpssAAAAABmeJ/QAAAAD4mIn9AAD///9/4tEAAP//+Y9P0AAAAAD/f///AAA=")
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_x6usk"]
_surfaces = [{
"aabb": AABB(-0.868458, -1.5733, -1.5733, 0.857045, 3.1466, 3.1466),
"attribute_data": PackedByteArray("//8AAP///3//9wAA//f/f//vAAD/7/9//+cAAP/n/3//3wAA/9//f//XAAD/1/9//88AAP/P/3//xwAA/8f/f/+/AAD/v/9//7cAAP+3/3//rwAA/6//f/+nAAD/p/9//58AAP+f/3//lwAA/5f/f/+PAAD/j/9//4cAAP+H/3//fwAA/3//f/93AAD/d/9//28AAP9v/3//ZwAA/2f/f/9fAAD/X/9//1cAAP9X/3//TwAA/0//f/9HAAD/R/9//z8AAP8//3//NwAA/zf/f/8vAAD/L/9//ycAAP8n/3//HwAA/x//f/8XAAD/F/9//w8AAP8P/3//BwAA/wf/fwAAAAAAAP9/"),
"format": 34896613399,
"index_count": 192,
"index_data": PackedByteArray("AAABAAIAAgABAAMAAgADAAQABAADAAUABAAFAAYABgAFAAcABgAHAAgACAAHAAkACAAJAAoACgAJAAsACgALAAwADAALAA0ADAANAA4ADgANAA8ADgAPABAAEAAPABEAEAARABIAEgARABMAEgATABQAFAATABUAFAAVABYAFgAVABcAFgAXABgAGAAXABkAGAAZABoAGgAZABsAGgAbABwAHAAbAB0AHAAdAB4AHgAdAB8AHgAfACAAIAAfACEAIAAhACIAIgAhACMAIgAjACQAJAAjACUAJAAlACYAJgAlACcAJgAnACgAKAAnACkAKAApACoAKgApACsAKgArACwALAArAC0ALAAtAC4ALgAtAC8ALgAvADAAMAAvADEAMAAxADIAMgAxADMAMgAzADQANAAzADUANAA1ADYANgA1ADcANgA3ADgAOAA3ADkAOAA5ADoAOgA5ADsAOgA7ADwAPAA7AD0APAA9AD4APgA9AD8APgA/AEAAQAA/AEEA"),
"material": SubResource("StandardMaterial3D_x6usk"),
"name": "Cylinder.001",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 66,
"vertex_data": PackedByteArray("////fxwu1O4AAP9/AADU7v//BXCvL8zpAAAGZ3UCzOn//6lgWDRu5AAAA0++CW7k//+BUuk7ON8AAOI4khU43///GEYYRjXaAAB9JX0lNdr//+k7gVJx1QAAkhXiOHHV//9YNKlg+tAAAL4JA0/60P//ry8FcODMAAB1AgZn4Mz//xwu/381yQAAAAD/fzXJ//+vL/mPDsYAAHUC+JgOxv//WDRVn33DAAC+CfuwfcP//+k7fa2VwQAAkhUcx5XB//8YRua5aMAAAH0lgdpowP//gVIVxP+/AADiOGzq/7///6lgpstewAAAA09A9l7A//8FcE/QgsEAAAZnif2Cwf///3/i0WHDAAD/f///YcP///mPT9DqxQAA+JiJ/erF//9Vn6bLC8kAAPuwQPYLyf//fa0VxLDMAAAcx2zqsMz//+a55rnE0AAAgdqB2sTQ//8VxH2tN9UAAGzqHMc31f//pstVn/jZAABA9vuw+Nn//0/Q+Y/53gAAif34mPne///i0f9/LeQAAP///38t5P//T9AFcInpAACJ/QZnien//6bLqWAE7wAAQPYDTwTv//8VxIFSlfQAAGzq4jiV9P//5rkYRjT6AACB2n0lNPr//32t6Tvb/wAAHMeSFdv///9Vn1g0e/oAAPuwvgl7+v//+Y+vL9r0AAD4mHUC2vT///9/HC7A7wAA/38AAMDvWDlQNlg5UDbXO2Y41ztmOIpAQTmKQEE56UVAOulFQDr6SuM7+krjO+hPez3oT3s9y1QRP8tUET+9WapAvVmqQNZeUULWXlFCNGQNRDRkDUT5aetF+WnrRVFw+EdRcPhHeXdJSnl3SUrHf/lMx3/5THOIg1ZziINWd5B9X3eQfV8ImPZnCJj2Z1OfIHBTnyBwfqYmeH6mJniJrTGAia0xgNuub4fbrm+H8a9qjfGvao3gsIiS4LCIkrKxCpeysQqXcLIdm3CyHZsfs+KeH7PinsazcqLGs3KiZrTipWa04qUEtUWpBLVFqaK1qqyitaqsJDBENiQwRDbEM+42xDPuNu418DjuNfA4")
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_kx5wm")

[node name="Beam" type="RayCast3D"]
target_position = Vector3(0, -10, 0)
collision_mask = 2
script = ExtResource("1_i0pe4")

[node name="BeamMesh" type="MeshInstance3D" parent="."]
mesh = SubResource("CylinderMesh_x6usk")

[node name="GPUParticles3D" type="GPUParticles3D" parent="."]
transform = Transform3D(-4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 0, 0.11, 0)
material_override = SubResource("ShaderMaterial_mscii")
amount = 1
lifetime = 0.04
speed_scale = 10.0
process_material = SubResource("ParticleProcessMaterial_i0pe4")
draw_pass_1 = ExtResource("2_8l162")

[node name="BeamShell" type="MeshInstance3D" parent="."]
transform = Transform3D(-5.90104e-09, -0.11, 0, 0.135, -4.80825e-09, 0, 0, 0, 0.11, 0, 0.108204, 0)
mesh = SubResource("ArrayMesh_x6usk")
